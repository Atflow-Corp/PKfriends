import{j as e,F as s,J as l}from"./index-CwuxyAOt.js";import{r as a}from"./react-vendor-D3qZqZSO.js";import{B as t}from"./button-DjI5Z3Kp.js";import{C as n,a as i,b as r,c,d as m}from"./card-a0Ou1tH4.js";import{I as d}from"./input-g2F_qR7j.js";import{L as x,S as o,d as h,e as p,f as j,g as u,A as N,h as f,i as g,j as v,k as y,l as b,m as F}from"./alert-dialog-BWIGNaLF.js";import{H as w}from"./Header-BbhzvSSg.js";import{i as C,n as R,X as k,f as D}from"./ui-vendor-Cd1JOM-y.js";import"./index-BxKVhlYj.js";const z=({onBack:z,onComplete:P})=>{const[S,G]=a.useState({name:"",phoneNumber:"",organization:"",medicalRole:"",medicalDepartment:"",licenseNumber:"",departmentName:"",licenseFile:null,employmentFile:null}),[J,V]=a.useState(!1),$=(e,s)=>{G(l=>({...l,[e]:s}))},q=(e,s)=>{G(l=>({...l,[e]:s}))},B=e=>{const s=document.querySelector(`input[type="file"][data-field="${e}"]`);s&&s.click()},H=e=>{G(s=>({...s,[e]:null}));const s=document.querySelector(`input[type="file"][data-field="${e}"]`);s&&(s.value="")},A=()=>!(""===S.name.trim()||""===S.phoneNumber.trim()||""===S.organization||""===S.medicalRole)&&("의사"===S.medicalRole||"간호사"===S.medicalRole?""!==S.medicalDepartment&&""!==S.licenseNumber.trim()&&null!==S.licenseFile:"테크니션"!==S.medicalRole||""!==S.departmentName.trim()&&null!==S.employmentFile);return e.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-100 dark:bg-slate-900",children:[e.jsx(w,{}),e.jsx("div",{className:"flex flex-1 items-center justify-center p-4",children:e.jsxs(n,{className:"w-full max-w-md",children:[e.jsxs(i,{className:"text-center",children:[e.jsx(r,{className:"text-2xl font-bold",children:"회원정보 입력"}),e.jsx(c,{children:"회원가입을 위한 정보를 입력해주세요"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"name",className:"text-sm font-medium",children:["이름 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"name",type:"text",placeholder:"이름을 입력해주세요",value:S.name,onChange:e=>$("name",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:["휴대폰 번호 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"phoneNumber",type:"tel",placeholder:"휴대폰 번호를 입력해주세요 ('-' 제외)",value:S.phoneNumber,onChange:e=>$("phoneNumber",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"organization",className:"text-sm font-medium",children:["소속기관 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(o,{value:S.organization,onValueChange:e=>$("organization",e),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"소속기관을 선택해주세요"})}),e.jsx(j,{children:["앳플로우"].map(s=>e.jsx(u,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"medicalRole",className:"text-sm font-medium",children:["의료진 구분 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(o,{value:S.medicalRole,onValueChange:e=>$("medicalRole",e),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"의료진 구분을 선택해주세요"})}),e.jsx(j,{children:["의사","간호사","테크니션"].map(s=>e.jsx(u,{value:s,children:s},s))})]})]}),("의사"===S.medicalRole||"간호사"===S.medicalRole)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"medicalDepartment",className:"text-sm font-medium",children:["진료 과목 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(o,{value:S.medicalDepartment,onValueChange:e=>$("medicalDepartment",e),children:[e.jsx(h,{children:e.jsx(p,{placeholder:"진료 과목을 선택해주세요"})}),e.jsx(j,{children:["내과","외과","소아과","산부인과","정신과","신경과","흉부외과","정형외과","신경외과","비뇨기과","피부과","안과","이비인후과","마취과","영상의학과","병리과","진단검사의학과","응급의학과","재활의학과","가정의학과"].map(s=>e.jsx(u,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"licenseNumber",className:"text-sm font-medium",children:[S.medicalRole," 면허 번호 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"licenseNumber",type:"text",placeholder:`${S.medicalRole} 면허 번호를 입력해주세요`,value:S.licenseNumber,onChange:e=>$("licenseNumber",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{className:"text-sm font-medium",children:["면허증 파일 첨부 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var s;return q("licenseFile",(null==(s=e.target.files)?void 0:s[0])||null)},"data-field":"licenseFile",className:"hidden"}),e.jsxs(t,{type:"button",variant:"outline",onClick:()=>B("licenseFile"),className:"w-full flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),S.licenseFile?"파일 변경":"파일 선택"]}),S.licenseFile&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 border border-green-200 rounded-md",children:[e.jsxs("span",{className:"text-sm text-green-700 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),S.licenseFile.name]}),e.jsx(t,{type:"button",variant:"ghost",size:"sm",onClick:()=>H("licenseFile"),className:"h-6 w-6 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",children:e.jsx(k,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, JPG, PNG 파일만 업로드 가능합니다."})]})]}),"테크니션"===S.medicalRole&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{htmlFor:"departmentName",className:"text-sm font-medium",children:["부서명 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"departmentName",type:"text",placeholder:"부서명을 입력해주세요",value:S.departmentName,onChange:e=>$("departmentName",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{className:"text-sm font-medium",children:["재직증명서 파일 첨부 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var s;return q("employmentFile",(null==(s=e.target.files)?void 0:s[0])||null)},"data-field":"employmentFile",className:"hidden"}),e.jsxs(t,{type:"button",variant:"outline",onClick:()=>B("employmentFile"),className:"w-full flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),S.employmentFile?"파일 변경":"파일 선택"]}),S.employmentFile&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 border border-green-200 rounded-md",children:[e.jsxs("span",{className:"text-sm text-green-700 flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),S.employmentFile.name]}),e.jsx(t,{type:"button",variant:"ghost",size:"sm",onClick:()=>H("employmentFile"),className:"h-6 w-6 p-0 text-red-600 hover:text-red-800 hover:bg-red-50",children:e.jsx(k,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, JPG, PNG 파일만 업로드 가능합니다."})]})]})]}),e.jsx(t,{onClick:()=>{A()?V(!0):l.error("모든 필수 항목을 입력해주세요.")},className:"w-full",disabled:!A(),children:"회원가입 완료"}),e.jsxs(t,{variant:"ghost",onClick:z,className:"w-full flex items-center gap-2 text-sm",children:[e.jsx(D,{className:"h-4 w-4"}),"로그인으로 돌아가기"]})]})]})}),e.jsx(s,{}),e.jsx(N,{open:J,onOpenChange:V,children:e.jsxs(f,{children:[e.jsxs(g,{children:[e.jsx(v,{className:"text-center text-xl font-bold text-green-600",children:"환영합니다!"}),e.jsxs(y,{className:"text-center text-base py-4",children:["서비스 홈으로 이동하여",e.jsx("br",{}),"TDM 진행할 환자 정보를 등록해주세요."]})]}),e.jsx(b,{className:"flex justify-center",children:e.jsx(F,{onClick:()=>{V(!1),P()},className:"w-full max-w-xs",children:"확인"})})]})})]})};export{z as default};
