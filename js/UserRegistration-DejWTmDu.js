import{j as e,F as s,J as a}from"./index-CHFDi5xS.js";import{r as l}from"./react-vendor-B8CcSR15.js";import{B as r}from"./button-ghmVIVDf.js";import{C as n,a as t,b as c,c as i,d as m}from"./card-CTz7nPoc.js";import{I as d}from"./input-C_FySXHR.js";import{L as o,S as x,d as h,e as j,f as p,g as u,A as N,h as f,i as g,j as b,k as v,l as y,m as w}from"./alert-dialog-D4ZQgDvA.js";import{H as C}from"./Header-rgvuChVF.js";import{g as k}from"./ui-vendor-DIKnhjRf.js";import"./index-CtqvmGU1.js";const S=({onBack:S,onComplete:z,initialPhoneNumber:F=""})=>{const[R,I]=l.useState({name:"",phoneNumber:F,organization:"",medicalRole:""}),[J,O]=l.useState(!1);l.useEffect(()=>{F&&I(e=>({...e,phoneNumber:F}))},[F]);const B=(e,s)=>{I(a=>({...a,[e]:s}))},H=()=>""!==R.name.trim()&&""!==R.phoneNumber.trim()&&""!==R.organization&&""!==R.medicalRole;return e.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-100 dark:bg-slate-900",children:[e.jsx(C,{}),e.jsx("div",{className:"flex flex-1 items-center justify-center p-4",children:e.jsxs(n,{className:"w-full max-w-md",children:[e.jsxs(t,{className:"text-center",children:[e.jsx(c,{className:"text-2xl font-bold",children:"회원정보 입력"}),e.jsx(i,{children:"회원가입을 위한 정보를 입력해주세요"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"name",className:"text-sm font-medium",children:["이름 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"name",type:"text",placeholder:"이름을 입력해주세요",value:R.name,onChange:e=>B("name",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"phoneNumber",className:"text-sm font-medium",children:["휴대폰 번호 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"phoneNumber",type:"tel",placeholder:"휴대폰 번호를 입력해주세요 ('-' 제외)",value:R.phoneNumber,onChange:e=>B("phoneNumber",e.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"organization",className:"text-sm font-medium",children:["소속기관 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(x,{value:R.organization,onValueChange:e=>B("organization",e),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"소속기관을 선택해주세요"})}),e.jsx(p,{children:["앳플로우"].map(s=>e.jsx(u,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"medicalRole",className:"text-sm font-medium",children:["의료진 구분 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(x,{value:R.medicalRole,onValueChange:e=>B("medicalRole",e),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"의료진 구분을 선택해주세요"})}),e.jsx(p,{children:["의사","간호사","기타"].map(s=>e.jsx(u,{value:s,children:s},s))})]})]})]}),e.jsx(r,{onClick:()=>{H()?O(!0):a.error("모든 필수 항목을 입력해주세요.")},className:"w-full",disabled:!H(),children:"회원가입 완료"}),e.jsxs(r,{variant:"ghost",onClick:S,className:"w-full flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-4 w-4"}),"로그인으로 돌아가기"]})]})]})}),e.jsx(s,{}),e.jsx(N,{open:J,onOpenChange:O,children:e.jsxs(f,{children:[e.jsxs(g,{children:[e.jsx(b,{className:"text-center text-xl font-bold text-green-600",children:"환영합니다!"}),e.jsxs(v,{className:"text-center text-base py-4",children:["서비스 홈으로 이동하여",e.jsx("br",{}),"TDM 진행할 환자 정보를 등록해주세요."]})]}),e.jsx(y,{className:"flex justify-center",children:e.jsx(w,{onClick:()=>{try{const e=JSON.parse(window.localStorage.getItem("tdmfriends:registeredUsers")||"[]");e.includes(R.phoneNumber)||(e.push(R.phoneNumber),window.localStorage.setItem("tdmfriends:registeredUsers",JSON.stringify(e)))}catch(e){}O(!1),z()},className:"w-full max-w-xs",children:"확인"})})]})})]})};export{S as default};
