import{e,u as t,a as r,j as s,P as a,d as n,f as o,h as d,g as c}from"./index-QkYypPpv.js";import{r as i}from"./react-vendor-B8CcSR15.js";import{u as l}from"./index-CtqvmGU1.js";import{k as u}from"./ui-vendor-zUX6a0wC.js";var f="Checkbox",[b,p]=e(f),[m,h]=b(f),k=i.forwardRef((e,o)=>{const{__scopeCheckbox:d,name:c,checked:l,defaultChecked:u,required:f,disabled:b,value:p="on",onCheckedChange:h,form:k,...x}=e,[v,C]=i.useState(null),w=t(o,e=>C(e)),E=i.useRef(!1),N=!v||(k||!!v.closest("form")),[R=!1,P]=r({prop:l,defaultProp:u,onChange:h}),D=i.useRef(R);return i.useEffect(()=>{const e=null==v?void 0:v.form;if(e){const t=()=>P(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,P]),s.jsxs(m,{scope:d,state:R,disabled:b,children:[s.jsx(a.button,{type:"button",role:"checkbox","aria-checked":g(R)?"mixed":R,"aria-required":f,"data-state":j(R),"data-disabled":b?"":void 0,disabled:b,value:p,...x,ref:w,onKeyDown:n(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:n(e.onClick,e=>{P(e=>!!g(e)||!e),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),N&&s.jsx(y,{control:v,bubbles:!E.current,name:c,value:p,checked:R,required:f,disabled:b,form:k,style:{transform:"translateX(-100%)"},defaultChecked:!g(u)&&u})]})});k.displayName=f;var x="CheckboxIndicator",v=i.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...d}=e,c=h(x,r);return s.jsx(o,{present:n||g(c.state)||!0===c.state,children:s.jsx(a.span,{"data-state":j(c.state),"data-disabled":c.disabled?"":void 0,...d,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=x;var y=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...o}=e,c=i.useRef(null),u=l(r),f=d(t);i.useEffect(()=>{const e=c.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==r&&s){const t=new Event("click",{bubbles:a});e.indeterminate=g(r),s.call(e,!g(r)&&r),e.dispatchEvent(t)}},[u,r,a]);const b=i.useRef(!g(r)&&r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??b.current,...o,tabIndex:-1,ref:c,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(e){return"indeterminate"===e}function j(e){return g(e)?"indeterminate":e?"checked":"unchecked"}var C=k,w=v;const E=i.forwardRef(({className:e,...t},r)=>s.jsx(C,{ref:r,className:c("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted disabled:border-muted-foreground/20 disabled:text-muted-foreground data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground disabled:data-[state=checked]:bg-muted disabled:data-[state=checked]:text-muted-foreground",e),...t,children:s.jsx(w,{className:c("flex items-center justify-center text-current"),children:s.jsx(u,{className:"h-4 w-4"})})}));E.displayName=C.displayName;export{E as C};
