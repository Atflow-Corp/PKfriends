import{e,u as s,a,j as r,P as t,d as c,f as l,h as d,g as n,L as i,F as o,J as m}from"./index-EDVtieIG.js";import{r as u}from"./react-vendor-B8CcSR15.js";import{B as x}from"./button-FgDF5wvu.js";import{C as h,a as p,b,c as f,d as g}from"./card-CXWF4oCX.js";import{u as v}from"./index-CtqvmGU1.js";import{l as k,g as j}from"./ui-vendor-DIKnhjRf.js";import{H as y}from"./Header-0zv-GNcI.js";var N="Checkbox",[C,w]=e(N),[P,E]=C(N),T=u.forwardRef((e,l)=>{const{__scopeCheckbox:d,name:n,checked:i,defaultChecked:o,required:m,disabled:x,value:h="on",onCheckedChange:p,form:b,...f}=e,[g,v]=u.useState(null),k=s(l,e=>v(e)),j=u.useRef(!1),y=!g||(b||!!g.closest("form")),[N=!1,C]=a({prop:i,defaultProp:o,onChange:p}),w=u.useRef(N);return u.useEffect(()=>{const e=null==g?void 0:g.form;if(e){const s=()=>C(w.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[g,C]),r.jsxs(P,{scope:d,state:N,disabled:x,children:[r.jsx(t.button,{type:"button",role:"checkbox","aria-checked":F(N)?"mixed":N,"aria-required":m,"data-state":D(N),"data-disabled":x?"":void 0,disabled:x,value:h,...f,ref:k,onKeyDown:c(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:c(e.onClick,e=>{C(e=>!!F(e)||!e),y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),y&&r.jsx(A,{control:g,bubbles:!j.current,name:n,value:h,checked:N,required:m,disabled:x,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!F(o)&&o})]})});T.displayName=N;var R="CheckboxIndicator",_=u.forwardRef((e,s)=>{const{__scopeCheckbox:a,forceMount:c,...d}=e,n=E(R,a);return r.jsx(l,{present:c||F(n.state)||!0===n.state,children:r.jsx(t.span,{"data-state":D(n.state),"data-disabled":n.disabled?"":void 0,...d,ref:s,style:{pointerEvents:"none",...e.style}})})});_.displayName=R;var A=e=>{const{control:s,checked:a,bubbles:t=!0,defaultChecked:c,...l}=e,n=u.useRef(null),i=v(a),o=d(s);u.useEffect(()=>{const e=n.current,s=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(s,"checked").set;if(i!==a&&r){const s=new Event("click",{bubbles:t});e.indeterminate=F(a),r.call(e,!F(a)&&a),e.dispatchEvent(s)}},[i,a,t]);const m=u.useRef(!F(a)&&a);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c??m.current,...l,tabIndex:-1,ref:n,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F(e){return"indeterminate"===e}function D(e){return F(e)?"indeterminate":e?"checked":"unchecked"}var L=T,q=_;const H=u.forwardRef(({className:e,...s},a)=>r.jsx(L,{ref:a,className:n("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted disabled:border-muted-foreground/20 disabled:text-muted-foreground data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground disabled:data-[state=checked]:bg-muted disabled:data-[state=checked]:text-muted-foreground",e),...s,children:r.jsx(q,{className:n("flex items-center justify-center text-current"),children:r.jsx(k,{className:"h-4 w-4"})})}));H.displayName=L.displayName;const I=({onBack:e,onAgree:s})=>{const[a,t]=u.useState({allAgreed:!0,ageCheck:!0,serviceTerms:!0,privacyPolicy:!0}),c=(e,s)=>{const r={...a,[e]:s};r.allAgreed=r.ageCheck&&r.serviceTerms&&r.privacyPolicy,t(r)};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-100 dark:bg-slate-900",children:[r.jsx(y,{}),r.jsx("div",{className:"flex flex-1 items-center justify-center p-4",children:r.jsxs(h,{className:"w-full max-w-md",children:[r.jsxs(p,{className:"text-center",children:[r.jsx(b,{className:"text-2xl font-bold",children:"약관 동의"}),r.jsx(f,{children:"서비스 이용을 위한 약관에 동의해주세요"})]}),r.jsxs(g,{className:"space-y-6",children:[r.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50 dark:bg-gray-800",children:[r.jsxs("div",{className:"flex items-center space-x-2 border-b pb-3",children:[r.jsx(H,{id:"all-agreed",checked:a.allAgreed,onCheckedChange:e=>{t({allAgreed:e,ageCheck:e,serviceTerms:e,privacyPolicy:e})}}),r.jsx("label",{htmlFor:"all-agreed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"서비스 이용약관에 모두 동의합니다."})]}),r.jsxs("div",{className:"space-y-3 pl-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(H,{id:"age-check",checked:a.ageCheck,onCheckedChange:e=>c("ageCheck",e)}),r.jsxs("label",{htmlFor:"age-check",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[r.jsx("span",{className:"text-red-500",children:"(필수)"})," 만 14세 이상입니다."]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(H,{id:"service-terms",checked:a.serviceTerms,onCheckedChange:e=>c("serviceTerms",e)}),r.jsxs("label",{htmlFor:"service-terms",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[r.jsx("span",{className:"text-red-500",children:"(필수)"})," 서비스 이용약관 동의"]}),r.jsx(i,{to:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline ml-1",children:"전문보기"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(H,{id:"privacy-policy",checked:a.privacyPolicy,onCheckedChange:e=>c("privacyPolicy",e)}),r.jsxs("label",{htmlFor:"privacy-policy",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[r.jsx("span",{className:"text-red-500",children:"(필수)"})," 개인정보 처리방침 동의"]}),r.jsx(i,{to:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline ml-1",children:"전문보기"})]})]})]}),r.jsx(x,{onClick:()=>{a.ageCheck&&a.serviceTerms&&a.privacyPolicy?(m.success("약관에 동의하셨습니다."),s()):m.error("필수 약관에 동의해주세요.")},className:"w-full",disabled:!a.ageCheck||!a.serviceTerms||!a.privacyPolicy,children:"확인"}),r.jsxs(x,{variant:"ghost",onClick:e,className:"w-full flex items-center gap-2 text-sm",children:[r.jsx(j,{className:"h-4 w-4"}),"로그인으로 돌아가기"]})]})]})}),r.jsx(o,{})]})};export{I as default};
